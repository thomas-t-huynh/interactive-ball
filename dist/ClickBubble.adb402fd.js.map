{"version":3,"sources":["src/Object/ClickBubble.js"],"names":["ClickBubble","_ref","_ref$x","x","_ref$y","y","fadeOutRate","radius","canvas","fillStyle","energy","_classCallCheck","_defineProperty","_createClass","key","value","draw","mouseOnClickEvent","offsetX","offsetY","alpha","_readOnlyError","ctx","getContext","beginPath","arc","Math","PI","globalAlpha","fill","closePath","clickBall","ball","clickXFromBall","clickYFromBall","distance","sqrt","angle","atan2","half","abs","percent","dx","dy"],"mappings":"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","file":"ClickBubble.adb402fd.js","sourceRoot":"..","sourcesContent":["class ClickBubble {\n  constructor({ x = -50, y = -50, fadeOutRate, radius, canvas, fillStyle, energy }) {\n    this.x = x;\n    this.y = y;\n    this.fadeOutRate = fadeOutRate;\n    this.radius = radius;\n    this.canvas = canvas;\n    this.fillStyle = fillStyle;\n    this.energy = energy;\n  }\n  alpha = 1;\n\n  draw(mouseOnClickEvent) {\n    const { offsetX, offsetY } = mouseOnClickEvent;\n    const { fillStyle, alpha, fadeOutRate, radius, y, x } = this;\n    if (mouseOnClickEvent) {\n      x = offsetX;\n      y = offsetY;\n      alpha = 1;\n    }\n    const ctx = canvas.getContext('2d');\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, 2 * Math.PI);\n    alpha -= fadeOutRate;\n    ctx.globalAlpha = alpha >= 0 ? alpha : 0;\n    ctx.fillStyle = fillStyle;\n    ctx.fill(); // fill the circle with the current fill color\n    ctx.closePath();\n  }\n\n  clickBall(ball) {\n    const { x, y, radius, energy } = this;\n    const clickXFromBall =\n      x + radius > ball.x ? x - ball.x : x + radius - ball.x;\n    const clickYFromBall =\n      y + radius > ball.y ? y - ball.y : y + radius - ball.y;\n    const distance = Math.sqrt(\n      clickXFromBall * clickXFromBall + clickYFromBall * clickYFromBall\n    );\n    if (distance > ball.radius) {\n      return;\n    }\n    let angle = Math.atan2(clickYFromBall, clickXFromBall);\n    // - angle is north hemi, + angle is south hemi.\n    const half = Math.PI / 2;\n    if (angle < 0) {\n      angle = Math.abs(angle);\n      if (angle < half) {\n        const percent = angle / half;\n        ball.dx = -(energy * (1 - percent));\n        ball.dy = energy * percent;\n      } else {\n        const percent = (angle - half) / half;\n        ball.dx = energy * percent;\n        ball.dy = energy * (1 - percent);\n      }\n    } else {\n      if (angle < half) {\n        const percent = angle / half;\n        ball.dx = -(energy * (1 - percent));\n        ball.dy = -(energy * percent);\n      } else {\n        const percent = (angle - half) / half;\n        ball.dx = energy * percent;\n        ball.dy = -(energy * (1 - percent));\n      }\n    }\n    ball.energy = 1;\n  }\n}\n"]}